# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/passthrough/fb-workload -f randomwrite.f
#   filebench -f randomwrite.f
#
# Description:
#
#   1. Clear all files from FS
#   2. Run filebench randomwrite.f
#   3. Get results

# Run 1

0.004: Pre-allocating files in largefile1 tree
1.413: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.413: Population and pre-allocation of filesets completed
1.414: Starting 1 rand-write instances
2.441: Running...
62.445: Run took 60 seconds...
62.445: Per-Operation Breakdown
rand-write1          3026944ops    50446ops/s 394.1mb/s    0.018ms/op [0.012ms - 124.139ms]
62.445: IO Summary: 3026944 ops 50445.789 ops/s 0/50446 rd/wr 394.1mb/s 0.018ms/op
62.445: Shutting down processes

# Run 2

0.004: Pre-allocating files in largefile1 tree
1.465: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.465: Population and pre-allocation of filesets completed
1.466: Starting 1 rand-write instances
2.490: Running...
62.494: Run took 60 seconds...
62.494: Per-Operation Breakdown
rand-write1          2996376ops    49936ops/s 390.1mb/s    0.018ms/op [0.014ms - 124.103ms]
62.494: IO Summary: 2996376 ops 49936.364 ops/s 0/49936 rd/wr 390.1mb/s 0.018ms/op
62.494: Shutting down processes

# Run 3

0.004: Pre-allocating files in largefile1 tree
1.433: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.433: Population and pre-allocation of filesets completed
1.433: Starting 1 rand-write instances
2.457: Running...
62.461: Run took 60 seconds...
62.461: Per-Operation Breakdown
rand-write1          3014665ops    50241ops/s 392.5mb/s    0.018ms/op [0.012ms - 124.268ms]
62.461: IO Summary: 3014665 ops 50241.088 ops/s 0/50241 rd/wr 392.5mb/s 0.018ms/op
62.461: Shutting down processes
