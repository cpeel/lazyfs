# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/lazyfs/fb-workload -f filemicro_seqread.f.f
#   filebench -f filemicro_seqread.f.f
#
# Description:
#
#   (Using page size in cache of size 32kb / 32768 bytes)
# 
#   1. Clear all files from FS
#   2. Run filebench filemicro_seqread.f.f
#   3. Get results

# Run 1


# Run 2


# Run 3

# lazyfs run number 1

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Populating and pre-allocating filesets
0.001: fileset-1 populated: 1 files, avg. dir. width = 1, avg. dir. depth = -nan, 0 leafdirs, 1024.000MB total size
0.001: Removing fileset-1 tree (if exists)
0.002: Pre-allocating directories in fileset-1 tree
0.002: Pre-allocating files in fileset-1 tree
1.636: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.636: Population and pre-allocation of filesets completed
1.636: Attempting to create fileset more than once, ignoring
1.636: Starting 1 process-1 instances
2.638: Running...
142.649: Run took 140 seconds...
142.649: Per-Operation Breakdown
finish-1             0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
close-1              0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
read-1               65278275ops   466240ops/s 1821.2mb/s    0.001ms/op [0.001ms - 55.745ms]
open-1               1ops        0ops/s   0.0mb/s   64.434ms/op [64.434ms - 64.434ms]
142.649: IO Summary: 65278276 ops 466239.711 ops/s 466240/0 rd/wr 1821.2mb/s 0.001ms/op
142.649: Shutting down processes

# lazyfs run number 2

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Populating and pre-allocating filesets
0.001: fileset-1 populated: 1 files, avg. dir. width = 1, avg. dir. depth = -nan, 0 leafdirs, 1024.000MB total size
0.001: Removing fileset-1 tree (if exists)
0.003: Pre-allocating directories in fileset-1 tree
0.003: Pre-allocating files in fileset-1 tree
1.573: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.573: Population and pre-allocation of filesets completed
1.573: Attempting to create fileset more than once, ignoring
1.573: Starting 1 process-1 instances
2.576: Running...
142.588: Run took 140 seconds...
142.588: Per-Operation Breakdown
finish-1             0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
close-1              0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
read-1               65639028ops   468811ops/s 1831.3mb/s    0.001ms/op [0.001ms - 55.673ms]
open-1               1ops        0ops/s   0.0mb/s   65.941ms/op [65.941ms - 65.941ms]
142.588: IO Summary: 65639029 ops 468810.951 ops/s 468811/0 rd/wr 1831.3mb/s 0.001ms/op
142.588: Shutting down processes

# lazyfs run number 3

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Populating and pre-allocating filesets
0.001: fileset-1 populated: 1 files, avg. dir. width = 1, avg. dir. depth = -nan, 0 leafdirs, 1024.000MB total size
0.001: Removing fileset-1 tree (if exists)
0.003: Pre-allocating directories in fileset-1 tree
0.003: Pre-allocating files in fileset-1 tree
1.784: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.784: Population and pre-allocation of filesets completed
1.784: Attempting to create fileset more than once, ignoring
1.784: Starting 1 process-1 instances
2.786: Running...
142.797: Run took 140 seconds...
142.797: Per-Operation Breakdown
finish-1             0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
close-1              0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
read-1               64999468ops   464246ops/s 1813.5mb/s    0.001ms/op [0.001ms - 55.818ms]
open-1               1ops        0ops/s   0.0mb/s   63.728ms/op [63.728ms - 63.728ms]
142.797: IO Summary: 64999469 ops 464245.922 ops/s 464246/0 rd/wr 1813.5mb/s 0.001ms/op
142.797: Shutting down processes
