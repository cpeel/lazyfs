# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/passthrough/fb-workload -f filemicro_createfiles.f.f
#   filebench -f filemicro_createfiles.f.f
#
# Description:
#
#   1. Clear all files from FS
#   2. Run filebench filemicro_createfiles.f.f
#   3. Get results

# Run 1


# Run 2


# Run 3


# passthrough run number 1

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Populating and pre-allocating filesets
0.372: fileset-1 populated: 1000000 files, avg. dir. width = 1000, avg. dir. depth = 2.0, 0 leafdirs, 3906.250MB total size
0.372: Removing fileset-1 tree (if exists)
0.374: Pre-allocating directories in fileset-1 tree
0.444: Pre-allocating files in fileset-1 tree
3.224: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
3.224: Population and pre-allocation of filesets completed
3.224: Attempting to create fileset more than once, ignoring
3.224: Starting 1 process-1 instances
4.226: Running...
104.233: Run took 100 seconds...
104.233: Per-Operation Breakdown
finishoncount-1      0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
createwriteclose-1.closefile-1 872947ops     8729ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.260ms]
createwriteclose-1.write-1 872947ops     8729ops/s  34.1mb/s    0.026ms/op [0.012ms - 201.351ms]
createwriteclose-1.createfile-1 872947ops     8729ops/s   0.0mb/s    0.075ms/op [0.033ms - 94.672ms]
createwriteclose-1   0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
104.233: IO Summary: 2618841 ops 26186.765 ops/s 0/8729 rd/wr  34.1mb/s 0.035ms/op
104.233: Shutting down processes

# passthrough run number 2

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Populating and pre-allocating filesets
0.372: fileset-1 populated: 1000000 files, avg. dir. width = 1000, avg. dir. depth = 2.0, 0 leafdirs, 3906.250MB total size
0.372: Removing fileset-1 tree (if exists)
0.374: Pre-allocating directories in fileset-1 tree
0.420: Pre-allocating files in fileset-1 tree
3.157: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
3.157: Population and pre-allocation of filesets completed
3.157: Attempting to create fileset more than once, ignoring
3.157: Starting 1 process-1 instances
4.159: Running...
104.166: Run took 100 seconds...
104.166: Per-Operation Breakdown
finishoncount-1      0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
createwriteclose-1.closefile-1 855070ops     8550ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.373ms]
createwriteclose-1.write-1 855070ops     8550ops/s  33.4mb/s    0.026ms/op [0.012ms - 243.028ms]
createwriteclose-1.createfile-1 855070ops     8550ops/s   0.0mb/s    0.076ms/op [0.034ms - 101.479ms]
createwriteclose-1   0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
104.166: IO Summary: 2565210 ops 25650.492 ops/s 0/8550 rd/wr  33.4mb/s 0.036ms/op
104.166: Shutting down processes

# passthrough run number 3

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Populating and pre-allocating filesets
0.373: fileset-1 populated: 1000000 files, avg. dir. width = 1000, avg. dir. depth = 2.0, 0 leafdirs, 3906.250MB total size
0.373: Removing fileset-1 tree (if exists)
0.374: Pre-allocating directories in fileset-1 tree
0.443: Pre-allocating files in fileset-1 tree
3.207: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
3.208: Population and pre-allocation of filesets completed
3.208: Attempting to create fileset more than once, ignoring
3.208: Starting 1 process-1 instances
4.210: Running...
104.216: Run took 100 seconds...
104.216: Per-Operation Breakdown
finishoncount-1      0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
createwriteclose-1.closefile-1 862493ops     8624ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.254ms]
createwriteclose-1.write-1 862493ops     8624ops/s  33.7mb/s    0.026ms/op [0.012ms - 195.058ms]
createwriteclose-1.createfile-1 862494ops     8624ops/s   0.0mb/s    0.076ms/op [0.035ms - 427.303ms]
createwriteclose-1   0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
104.216: IO Summary: 2587480 ops 25873.146 ops/s 0/8624 rd/wr  33.7mb/s 0.035ms/op
104.216: Shutting down processes
