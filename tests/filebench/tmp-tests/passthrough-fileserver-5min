# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/passthrough/fb-workload -f fileserver.f
#   filebench -f fileserver.f
#
# Description:
#
#   1. Clear all files from FS
#   2. Run filebench fileserver.f
#   3. Get results

# Run 1

303.902: Run took 300 seconds...
303.903: Per-Operation Breakdown
statfile1            157979ops      527ops/s   0.0mb/s    0.113ms/op [0.043ms - 9.885ms]
deletefile1          157979ops      527ops/s   0.0mb/s    0.170ms/op [0.067ms - 68.790ms]
closefile3           157980ops      527ops/s   0.0mb/s    0.003ms/op [0.001ms - 1.162ms]
readfile1            157980ops      527ops/s  67.2mb/s    0.507ms/op [0.031ms - 20.122ms]
openfile2            157980ops      527ops/s   0.0mb/s    0.128ms/op [0.049ms - 12.194ms]
closefile2           157980ops      527ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.308ms]
appendfilerand1      157980ops      527ops/s   4.1mb/s    0.056ms/op [0.024ms - 72.276ms]
openfile1            157980ops      527ops/s   0.0mb/s    0.119ms/op [0.050ms - 9.708ms]
closefile1           157980ops      527ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.938ms]
wrtfile1             157980ops      527ops/s  66.0mb/s    0.534ms/op [0.018ms - 82.080ms]
createfile1          157980ops      527ops/s   0.0mb/s    0.227ms/op [0.094ms - 23.936ms]
303.905: IO Summary: 1737778 ops 5792.221 ops/s 527/1053 rd/wr 137.4mb/s 0.169ms/op

# Run 2

303.997: Run took 300 seconds...
303.997: Per-Operation Breakdown
statfile1            159649ops      532ops/s   0.0mb/s    0.112ms/op [0.043ms - 14.940ms]
deletefile1          159649ops      532ops/s   0.0mb/s    0.168ms/op [0.064ms - 64.496ms]
closefile3           159649ops      532ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.116ms]
readfile1            159649ops      532ops/s  67.9mb/s    0.503ms/op [0.031ms - 21.860ms]
openfile2            159650ops      532ops/s   0.0mb/s    0.127ms/op [0.049ms - 16.196ms]
closefile2           159650ops      532ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.261ms]
appendfilerand1      159650ops      532ops/s   4.2mb/s    0.055ms/op [0.023ms - 11.901ms]
openfile1            159650ops      532ops/s   0.0mb/s    0.117ms/op [0.050ms - 12.527ms]
closefile1           159650ops      532ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.597ms]
wrtfile1             159650ops      532ops/s  66.7mb/s    0.528ms/op [0.018ms - 78.162ms]
createfile1          159650ops      532ops/s   0.0mb/s    0.224ms/op [0.092ms - 13.028ms]
303.997: IO Summary: 1756146 ops 5853.455 ops/s 532/1064 rd/wr 138.8mb/s 0.168ms/op
303.997: Shutting down processes

# Run 3

303.850: Run took 300 seconds...
303.885: Per-Operation Breakdown
statfile1            160349ops      534ops/s   0.0mb/s    0.111ms/op [0.042ms - 9.500ms]
deletefile1          160349ops      534ops/s   0.0mb/s    0.169ms/op [0.066ms - 71.473ms]
closefile3           160350ops      534ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.432ms]
readfile1            160350ops      534ops/s  68.2mb/s    0.501ms/op [0.030ms - 13.680ms]
openfile2            160350ops      534ops/s   0.0mb/s    0.126ms/op [0.049ms - 12.637ms]
closefile2           160350ops      534ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.322ms]
appendfilerand1      160350ops      534ops/s   4.2mb/s    0.055ms/op [0.023ms - 14.031ms]
openfile1            160350ops      534ops/s   0.0mb/s    0.117ms/op [0.050ms - 11.759ms]
closefile1           160350ops      534ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.228ms]
wrtfile1             160350ops      534ops/s  67.0mb/s    0.526ms/op [0.018ms - 89.973ms]
createfile1          160350ops      534ops/s   0.0mb/s    0.223ms/op [0.092ms - 59.713ms]
303.886: IO Summary: 1763848 ops 5878.306 ops/s 534/1069 rd/wr 139.4mb/s 0.167ms/op
303.886: Shutting down processes