# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/passthrough/fb-workload -f varmail.f
#   filebench -f varmail.f
#
# Description:
#
#   1. Clear all files from FS
#   2. Run filebench varmail.f
#   3. Get results

# Run 1

301.140: Run took 300 seconds...
301.140: Per-Operation Breakdown
closefile4           466664ops     1555ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.605ms]
readfile4            466664ops     1555ops/s  24.3mb/s    0.096ms/op [0.031ms - 12.090ms]
openfile4            466664ops     1555ops/s   0.0mb/s    0.066ms/op [0.048ms - 12.313ms]
closefile3           466664ops     1555ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.451ms]
fsyncfile3           466664ops     1555ops/s   0.0mb/s    0.010ms/op [0.007ms - 7.630ms]
appendfilerand3      466664ops     1555ops/s  12.2mb/s    0.039ms/op [0.019ms - 8.332ms]
readfile3            466665ops     1555ops/s  12.2mb/s    0.065ms/op [0.022ms - 18.648ms]
openfile3            466665ops     1555ops/s   0.0mb/s    0.065ms/op [0.047ms - 13.303ms]
closefile2           466665ops     1555ops/s   0.0mb/s    0.003ms/op [0.001ms - 3.240ms]
fsyncfile2           466665ops     1555ops/s   0.0mb/s    0.011ms/op [0.007ms - 6.235ms]
appendfilerand2      466665ops     1555ops/s  12.2mb/s    0.043ms/op [0.026ms - 11.114ms]
createfile2          466665ops     1555ops/s   0.0mb/s    0.121ms/op [0.090ms - 18.513ms]
deletefile1          466665ops     1555ops/s   0.0mb/s    0.085ms/op [0.058ms - 14.320ms]
301.140: IO Summary: 6066639 ops 20220.466 ops/s 3111/3111 rd/wr  60.8mb/s 0.047ms/op
301.140: Shutting down processes

# Run 2

301.148: Run took 300 seconds...
301.148: Per-Operation Breakdown
closefile4           467542ops     1558ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.196ms]
readfile4            467542ops     1558ops/s  24.4mb/s    0.096ms/op [0.031ms - 13.539ms]
openfile4            467543ops     1558ops/s   0.0mb/s    0.066ms/op [0.048ms - 16.142ms]
closefile3           467543ops     1558ops/s   0.0mb/s    0.003ms/op [0.001ms - 1.923ms]
fsyncfile3           467543ops     1558ops/s   0.0mb/s    0.010ms/op [0.006ms - 7.411ms]
appendfilerand3      467543ops     1558ops/s  12.2mb/s    0.038ms/op [0.020ms - 13.221ms]
readfile3            467543ops     1558ops/s  12.2mb/s    0.065ms/op [0.022ms - 10.845ms]
openfile3            467543ops     1558ops/s   0.0mb/s    0.065ms/op [0.047ms - 13.623ms]
closefile2           467543ops     1558ops/s   0.0mb/s    0.004ms/op [0.001ms - 3.221ms]
fsyncfile2           467543ops     1558ops/s   0.0mb/s    0.011ms/op [0.007ms - 7.495ms]
appendfilerand2      467543ops     1558ops/s  12.2mb/s    0.042ms/op [0.026ms - 6.138ms]
createfile2          467543ops     1558ops/s   0.0mb/s    0.121ms/op [0.090ms - 13.119ms]
deletefile1          467543ops     1558ops/s   0.0mb/s    0.085ms/op [0.059ms - 15.271ms]
301.148: IO Summary: 6078057 ops 20258.792 ops/s 3117/3117 rd/wr  60.9mb/s 0.047ms/op
301.148: Shutting down processes

# Run 3

301.139: Run took 300 seconds...
301.139: Per-Operation Breakdown
closefile4           480127ops     1600ops/s   0.0mb/s    0.003ms/op [0.001ms - 3.442ms]
readfile4            480127ops     1600ops/s  25.0mb/s    0.093ms/op [0.030ms - 15.002ms]
openfile4            480128ops     1600ops/s   0.0mb/s    0.064ms/op [0.048ms - 13.925ms]
closefile3           480128ops     1600ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.310ms]
fsyncfile3           480128ops     1600ops/s   0.0mb/s    0.010ms/op [0.007ms - 8.827ms]
appendfilerand3      480128ops     1600ops/s  12.5mb/s    0.037ms/op [0.019ms - 9.420ms]
readfile3            480128ops     1600ops/s  12.5mb/s    0.063ms/op [0.022ms - 12.912ms]
openfile3            480128ops     1600ops/s   0.0mb/s    0.063ms/op [0.047ms - 10.358ms]
closefile2           480128ops     1600ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.141ms]
fsyncfile2           480128ops     1600ops/s   0.0mb/s    0.010ms/op [0.007ms - 6.514ms]
appendfilerand2      480128ops     1600ops/s  12.5mb/s    0.042ms/op [0.026ms - 8.430ms]
createfile2          480128ops     1600ops/s   0.0mb/s    0.118ms/op [0.090ms - 12.648ms]
deletefile1          480128ops     1600ops/s   0.0mb/s    0.082ms/op [0.058ms - 12.075ms]
301.139: IO Summary: 6241662 ops 20804.257 ops/s 3201/3201 rd/wr  62.6mb/s 0.046ms/op
301.139: Shutting down processes