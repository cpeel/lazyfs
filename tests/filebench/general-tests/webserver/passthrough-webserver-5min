# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/passthrough/fb-workload -f webserver.f
#   filebench -f webserver.f
#
# Description:
#
#   1. Clear all files from FS
#   2. Run filebench webserver.f
#   3. Get results

# Run 1

301.218: Run took 300 seconds...
301.218: Per-Operation Breakdown
appendlog            151995ops      507ops/s   4.0mb/s    0.055ms/op [0.021ms - 93.207ms]
closefile10          151994ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.119ms]
readfile10           151994ops      507ops/s   7.3mb/s    0.088ms/op [0.029ms - 12.253ms]
openfile10           151995ops      507ops/s   0.0mb/s    0.091ms/op [0.055ms - 7.437ms]
closefile9           151995ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.085ms]
readfile9            151995ops      507ops/s   7.1mb/s    0.087ms/op [0.028ms - 24.115ms]
openfile9            151995ops      507ops/s   0.0mb/s    0.092ms/op [0.055ms - 11.507ms]
closefile8           151995ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.145ms]
readfile8            151995ops      507ops/s   7.6mb/s    0.090ms/op [0.029ms - 16.004ms]
openfile8            151995ops      507ops/s   0.0mb/s    0.092ms/op [0.056ms - 7.413ms]
closefile7           151995ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.111ms]
readfile7            151995ops      507ops/s   7.8mb/s    0.093ms/op [0.028ms - 9.691ms]
openfile7            151995ops      507ops/s   0.0mb/s    0.092ms/op [0.055ms - 10.609ms]
closefile6           151995ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.457ms]
readfile6            151995ops      507ops/s   7.8mb/s    0.091ms/op [0.029ms - 10.414ms]
openfile6            151995ops      507ops/s   0.0mb/s    0.092ms/op [0.054ms - 12.208ms]
closefile5           151995ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.097ms]
readfile5            151995ops      507ops/s   6.7mb/s    0.084ms/op [0.029ms - 9.900ms]
openfile5            151995ops      507ops/s   0.0mb/s    0.091ms/op [0.055ms - 13.719ms]
closefile4           151995ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.077ms]
readfile4            151995ops      507ops/s   7.3mb/s    0.088ms/op [0.029ms - 9.210ms]
openfile4            151995ops      507ops/s   0.0mb/s    0.092ms/op [0.054ms - 13.425ms]
closefile3           151995ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 3.410ms]
readfile3            151995ops      507ops/s   8.6mb/s    0.098ms/op [0.028ms - 14.427ms]
openfile3            151995ops      507ops/s   0.0mb/s    0.092ms/op [0.055ms - 12.475ms]
closefile2           151995ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.264ms]
readfile2            151995ops      507ops/s   7.4mb/s    0.089ms/op [0.029ms - 12.984ms]
openfile2            151995ops      507ops/s   0.0mb/s    0.092ms/op [0.055ms - 11.390ms]
closefile1           151995ops      507ops/s   0.0mb/s    0.003ms/op [0.001ms - 3.112ms]
readfile1            151995ops      507ops/s   7.1mb/s    0.086ms/op [0.029ms - 11.617ms]
openfile1            151995ops      507ops/s   0.0mb/s    0.094ms/op [0.056ms - 72.646ms]
301.218: IO Summary: 4711843 ops 15705.036 ops/s 5066/507 rd/wr  78.7mb/s 0.061ms/op
301.218: Shutting down processes

# Run 2

301.210: Run took 300 seconds...
301.211: Per-Operation Breakdown
appendlog            148195ops      494ops/s   3.9mb/s    0.056ms/op [0.021ms - 132.427ms]
closefile10          148194ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.118ms]
readfile10           148194ops      494ops/s   7.1mb/s    0.090ms/op [0.029ms - 16.141ms]
openfile10           148194ops      494ops/s   0.0mb/s    0.094ms/op [0.055ms - 14.463ms]
closefile9           148194ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.368ms]
readfile9            148194ops      494ops/s   6.9mb/s    0.089ms/op [0.029ms - 8.086ms]
openfile9            148194ops      494ops/s   0.0mb/s    0.094ms/op [0.055ms - 9.120ms]
closefile8           148194ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.218ms]
readfile8            148194ops      494ops/s   7.4mb/s    0.093ms/op [0.029ms - 12.875ms]
openfile8            148194ops      494ops/s   0.0mb/s    0.094ms/op [0.056ms - 16.170ms]
closefile7           148194ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.578ms]
readfile7            148194ops      494ops/s   7.6mb/s    0.095ms/op [0.029ms - 12.123ms]
openfile7            148194ops      494ops/s   0.0mb/s    0.094ms/op [0.055ms - 8.609ms]
closefile6           148194ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.081ms]
readfile6            148194ops      494ops/s   7.6mb/s    0.093ms/op [0.029ms - 8.699ms]
openfile6            148194ops      494ops/s   0.0mb/s    0.094ms/op [0.055ms - 12.356ms]
closefile5           148194ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.288ms]
readfile5            148194ops      494ops/s   6.6mb/s    0.086ms/op [0.029ms - 8.535ms]
openfile5            148194ops      494ops/s   0.0mb/s    0.094ms/op [0.056ms - 12.380ms]
closefile4           148195ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.676ms]
readfile4            148195ops      494ops/s   7.1mb/s    0.090ms/op [0.029ms - 12.237ms]
openfile4            148195ops      494ops/s   0.0mb/s    0.094ms/op [0.055ms - 12.072ms]
closefile3           148195ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.129ms]
readfile3            148195ops      494ops/s   8.4mb/s    0.101ms/op [0.029ms - 12.624ms]
openfile3            148195ops      494ops/s   0.0mb/s    0.094ms/op [0.056ms - 9.950ms]
closefile2           148195ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 5.161ms]
readfile2            148195ops      494ops/s   7.2mb/s    0.092ms/op [0.029ms - 14.421ms]
openfile2            148195ops      494ops/s   0.0mb/s    0.094ms/op [0.055ms - 16.137ms]
closefile1           148195ops      494ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.583ms]
readfile1            148195ops      494ops/s   6.9mb/s    0.088ms/op [0.029ms - 12.851ms]
openfile1            148195ops      494ops/s   0.0mb/s    0.097ms/op [0.056ms - 16.082ms]
301.211: IO Summary: 4594027 ops 15312.473 ops/s 4940/494 rd/wr  76.8mb/s 0.063ms/op
301.211: Shutting down processes

# Run 3

1.223: Running...
301.243: Run took 300 seconds...
301.244: Per-Operation Breakdown
appendlog            152779ops      509ops/s   4.0mb/s    0.054ms/op [0.021ms - 86.120ms]
closefile10          152778ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.264ms]
readfile10           152778ops      509ops/s   7.3mb/s    0.088ms/op [0.029ms - 10.872ms]
openfile10           152778ops      509ops/s   0.0mb/s    0.091ms/op [0.054ms - 9.913ms]
closefile9           152778ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.552ms]
readfile9            152778ops      509ops/s   7.1mb/s    0.086ms/op [0.029ms - 11.635ms]
openfile9            152778ops      509ops/s   0.0mb/s    0.091ms/op [0.055ms - 12.191ms]
closefile8           152778ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.205ms]
readfile8            152778ops      509ops/s   7.7mb/s    0.090ms/op [0.029ms - 11.199ms]
openfile8            152779ops      509ops/s   0.0mb/s    0.091ms/op [0.056ms - 16.204ms]
closefile7           152779ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.697ms]
readfile7            152779ops      509ops/s   7.9mb/s    0.092ms/op [0.029ms - 9.323ms]
openfile7            152779ops      509ops/s   0.0mb/s    0.091ms/op [0.055ms - 16.322ms]
closefile6           152779ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.162ms]
readfile6            152779ops      509ops/s   7.8mb/s    0.090ms/op [0.028ms - 9.888ms]
openfile6            152779ops      509ops/s   0.0mb/s    0.092ms/op [0.055ms - 13.408ms]
closefile5           152779ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.083ms]
readfile5            152779ops      509ops/s   6.8mb/s    0.083ms/op [0.029ms - 9.433ms]
openfile5            152779ops      509ops/s   0.0mb/s    0.091ms/op [0.056ms - 16.196ms]
closefile4           152779ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.151ms]
readfile4            152779ops      509ops/s   7.4mb/s    0.088ms/op [0.029ms - 11.097ms]
openfile4            152779ops      509ops/s   0.0mb/s    0.091ms/op [0.055ms - 12.238ms]
closefile3           152779ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.216ms]
readfile3            152779ops      509ops/s   8.7mb/s    0.097ms/op [0.029ms - 11.178ms]
openfile3            152779ops      509ops/s   0.0mb/s    0.091ms/op [0.055ms - 10.899ms]
closefile2           152779ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.110ms]
readfile2            152779ops      509ops/s   7.5mb/s    0.089ms/op [0.029ms - 10.350ms]
openfile2            152779ops      509ops/s   0.0mb/s    0.091ms/op [0.055ms - 10.457ms]
closefile1           152779ops      509ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.092ms]
readfile1            152779ops      509ops/s   7.1mb/s    0.085ms/op [0.029ms - 11.908ms]
openfile1            152779ops      509ops/s   0.0mb/s    0.093ms/op [0.056ms - 8.116ms]
301.244: IO Summary: 4736141 ops 15786.067 ops/s 5092/509 rd/wr  79.1mb/s 0.061ms/op
301.244: Shutting down processes