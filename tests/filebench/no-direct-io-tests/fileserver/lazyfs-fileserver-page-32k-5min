# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/lazyfs/fb-workload -f fileserver.f
#   filebench -f fileserver.f
#
# Description:
#
#   (Using page size in cache of size 32kb / 32768 bytes)
# 
#   1. Clear all files from FS
#   2. Run filebench fileserver.f
#   3. Get results

# Run 1

307.112: Run took 300 seconds...
307.112: Per-Operation Breakdown
statfile1            127947ops      426ops/s   0.0mb/s    0.026ms/op [0.018ms - 6.345ms]
deletefile1          127947ops      426ops/s   0.0mb/s    0.163ms/op [0.090ms - 8.504ms]
closefile3           127947ops      426ops/s   0.0mb/s    0.003ms/op [0.002ms - 0.367ms]
readfile1            127947ops      426ops/s  54.4mb/s    0.256ms/op [0.041ms - 12.269ms]
openfile2            127947ops      426ops/s   0.0mb/s    0.060ms/op [0.032ms - 7.668ms]
closefile2           127947ops      426ops/s   0.0mb/s    0.003ms/op [0.002ms - 3.378ms]
appendfilerand1      127947ops      426ops/s   3.3mb/s    0.098ms/op [0.039ms - 10.601ms]
openfile1            127947ops      426ops/s   0.0mb/s    0.056ms/op [0.033ms - 10.037ms]
closefile1           127947ops      426ops/s   0.0mb/s    0.005ms/op [0.002ms - 0.171ms]
wrtfile1             127947ops      426ops/s  53.5mb/s    1.525ms/op [0.087ms - 29.837ms]
createfile1          127948ops      426ops/s   0.0mb/s    0.110ms/op [0.078ms - 14.230ms]
307.112: IO Summary: 1407418 ops 4691.098 ops/s 426/853 rd/wr 111.3mb/s 0.210ms/op
307.112: Shutting down processes

# Run 2

305.963: Run took 300 seconds...
305.963: Per-Operation Breakdown
statfile1            126599ops      422ops/s   0.0mb/s    0.026ms/op [0.017ms - 7.828ms]
deletefile1          126599ops      422ops/s   0.0mb/s    0.165ms/op [0.090ms - 12.803ms]
closefile3           126599ops      422ops/s   0.0mb/s    0.003ms/op [0.002ms - 0.157ms]
readfile1            126599ops      422ops/s  53.9mb/s    0.258ms/op [0.042ms - 11.993ms]
openfile2            126599ops      422ops/s   0.0mb/s    0.061ms/op [0.035ms - 6.543ms]
closefile2           126599ops      422ops/s   0.0mb/s    0.003ms/op [0.002ms - 0.402ms]
appendfilerand1      126599ops      422ops/s   3.3mb/s    0.099ms/op [0.040ms - 9.109ms]
openfile1            126599ops      422ops/s   0.0mb/s    0.056ms/op [0.037ms - 8.063ms]
closefile1           126599ops      422ops/s   0.0mb/s    0.005ms/op [0.002ms - 0.092ms]
wrtfile1             126599ops      422ops/s  52.9mb/s    1.543ms/op [0.089ms - 24.758ms]
createfile1          126600ops      422ops/s   0.0mb/s    0.111ms/op [0.077ms - 12.268ms]
305.963: IO Summary: 1392590 ops 4641.567 ops/s 422/844 rd/wr 110.1mb/s 0.212ms/op
305.963: Shutting down processes

# Run 3

307.102: Run took 300 seconds...
307.102: Per-Operation Breakdown
statfile1            121249ops      404ops/s   0.0mb/s    0.027ms/op [0.018ms - 10.570ms]
deletefile1          121249ops      404ops/s   0.0mb/s    0.175ms/op [0.093ms - 9.751ms]
closefile3           121249ops      404ops/s   0.0mb/s    0.003ms/op [0.002ms - 0.113ms]
readfile1            121249ops      404ops/s  51.6mb/s    0.268ms/op [0.041ms - 16.578ms]
openfile2            121249ops      404ops/s   0.0mb/s    0.063ms/op [0.036ms - 6.062ms]
closefile2           121249ops      404ops/s   0.0mb/s    0.003ms/op [0.002ms - 0.129ms]
appendfilerand1      121249ops      404ops/s   3.2mb/s    0.103ms/op [0.039ms - 11.552ms]
openfile1            121249ops      404ops/s   0.0mb/s    0.059ms/op [0.036ms - 5.280ms]
closefile1           121249ops      404ops/s   0.0mb/s    0.005ms/op [0.002ms - 0.175ms]
wrtfile1             121249ops      404ops/s  50.7mb/s    1.608ms/op [0.088ms - 24.805ms]
createfile1          121250ops      404ops/s   0.0mb/s    0.117ms/op [0.077ms - 11.905ms]
307.102: IO Summary: 1333740 ops 4445.518 ops/s 404/808 rd/wr 105.4mb/s 0.221ms/op
307.102: Shutting down processes