# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/lazyfs/fb-workload -f varmail.f
#   filebench -f varmail.f
#
# Description:
#
#   (Using standard page size in cache - 4kb / 4096 bytes)
# 
#   1. Clear all files from FS
#   2. Run filebench varmail.f
#   3. Get results

# Run 1

301.534: Run took 300 seconds...
301.534: Per-Operation Breakdown
closefile4           303807ops     1013ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.378ms]
readfile4            303807ops     1013ops/s  15.8mb/s    0.136ms/op [0.039ms - 12.278ms]
openfile4            303807ops     1013ops/s   0.0mb/s    0.034ms/op [0.023ms - 14.440ms]
closefile3           303807ops     1013ops/s   0.0mb/s    0.004ms/op [0.001ms - 3.425ms]
fsyncfile3           303807ops     1013ops/s   0.0mb/s    0.050ms/op [0.029ms - 10.554ms]
appendfilerand3      303807ops     1013ops/s   7.9mb/s    0.121ms/op [0.039ms - 7.790ms]
readfile3            303807ops     1013ops/s   7.9mb/s    0.095ms/op [0.015ms - 12.092ms]
openfile3            303807ops     1013ops/s   0.0mb/s    0.033ms/op [0.023ms - 8.083ms]
closefile2           303807ops     1013ops/s   0.0mb/s    0.004ms/op [0.001ms - 2.790ms]
fsyncfile2           303807ops     1013ops/s   0.0mb/s    0.052ms/op [0.021ms - 10.244ms]
appendfilerand2      303807ops     1013ops/s   7.9mb/s    0.170ms/op [0.132ms - 11.761ms]
createfile2          303807ops     1013ops/s   0.0mb/s    0.107ms/op [0.076ms - 9.052ms]
deletefile1          303807ops     1013ops/s   0.0mb/s    0.141ms/op [0.092ms - 11.766ms]
301.535: IO Summary: 3949491 ops 13164.140 ops/s 2025/2025 rd/wr  39.6mb/s 0.073ms/op
301.535: Shutting down processes

# Run 2

301.532: Run took 300 seconds...
301.532: Per-Operation Breakdown
closefile4           302095ops     1007ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.552ms]
readfile4            302095ops     1007ops/s  15.8mb/s    0.137ms/op [0.038ms - 12.502ms]
openfile4            302095ops     1007ops/s   0.0mb/s    0.034ms/op [0.024ms - 6.809ms]
closefile3           302095ops     1007ops/s   0.0mb/s    0.004ms/op [0.001ms - 3.470ms]
fsyncfile3           302095ops     1007ops/s   0.0mb/s    0.050ms/op [0.029ms - 9.728ms]
appendfilerand3      302095ops     1007ops/s   7.9mb/s    0.122ms/op [0.038ms - 13.128ms]
readfile3            302096ops     1007ops/s   7.9mb/s    0.095ms/op [0.016ms - 8.073ms]
openfile3            302096ops     1007ops/s   0.0mb/s    0.033ms/op [0.022ms - 8.395ms]
closefile2           302096ops     1007ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.088ms]
fsyncfile2           302096ops     1007ops/s   0.0mb/s    0.052ms/op [0.022ms - 9.848ms]
appendfilerand2      302096ops     1007ops/s   7.9mb/s    0.172ms/op [0.127ms - 8.163ms]
createfile2          302096ops     1007ops/s   0.0mb/s    0.107ms/op [0.074ms - 10.199ms]
deletefile1          302096ops     1007ops/s   0.0mb/s    0.142ms/op [0.093ms - 8.627ms]
301.532: IO Summary: 3927242 ops 13089.815 ops/s 2014/2014 rd/wr  39.4mb/s 0.073ms/op
301.532: Shutting down processes

# Run 3

301.522: Run took 300 seconds...
301.522: Per-Operation Breakdown
closefile4           287624ops      959ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.413ms]
readfile4            287624ops      959ops/s  15.0mb/s    0.145ms/op [0.039ms - 10.743ms]
openfile4            287624ops      959ops/s   0.0mb/s    0.035ms/op [0.024ms - 12.925ms]
closefile3           287624ops      959ops/s   0.0mb/s    0.004ms/op [0.001ms - 3.460ms]
fsyncfile3           287624ops      959ops/s   0.0mb/s    0.053ms/op [0.029ms - 7.773ms]
appendfilerand3      287624ops      959ops/s   7.5mb/s    0.130ms/op [0.045ms - 11.977ms]
readfile3            287624ops      959ops/s   7.5mb/s    0.100ms/op [0.016ms - 10.813ms]
openfile3            287625ops      959ops/s   0.0mb/s    0.033ms/op [0.023ms - 13.050ms]
closefile2           287625ops      959ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.150ms]
fsyncfile2           287625ops      959ops/s   0.0mb/s    0.054ms/op [0.020ms - 12.440ms]
appendfilerand2      287625ops      959ops/s   7.5mb/s    0.183ms/op [0.126ms - 13.011ms]
createfile2          287625ops      959ops/s   0.0mb/s    0.111ms/op [0.076ms - 12.352ms]
deletefile1          287625ops      959ops/s   0.0mb/s    0.149ms/op [0.092ms - 20.916ms]
301.522: IO Summary: 3739118 ops 12462.755 ops/s 1917/1917 rd/wr  37.5mb/s 0.077ms/op
301.522: Shutting down processes