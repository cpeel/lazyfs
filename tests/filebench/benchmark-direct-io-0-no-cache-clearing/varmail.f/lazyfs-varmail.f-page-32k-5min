# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/lazyfs/fb-workload -f varmail.f.f
#   filebench -f varmail.f.f
#
# Description:
#
#   (Using page size in cache of size 32kb / 32768 bytes)
# 
#   1. Clear all files from FS
#   2. Run filebench varmail.f.f
#   3. Get results


# Run 1

301.451: Run took 300 seconds...
301.451: Per-Operation Breakdown
closefile4           367682ops     1226ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.260ms]
readfile4            367682ops     1226ops/s  19.2mb/s    0.100ms/op [0.044ms - 13.336ms]
openfile4            367682ops     1226ops/s   0.0mb/s    0.033ms/op [0.023ms - 7.098ms]
closefile3           367682ops     1226ops/s   0.0mb/s    0.003ms/op [0.001ms - 3.016ms]
fsyncfile3           367682ops     1226ops/s   0.0mb/s    0.049ms/op [0.029ms - 8.768ms]
appendfilerand3      367682ops     1226ops/s   9.6mb/s    0.058ms/op [0.040ms - 11.733ms]
readfile3            367682ops     1226ops/s   9.6mb/s    0.079ms/op [0.015ms - 13.573ms]
openfile3            367682ops     1226ops/s   0.0mb/s    0.033ms/op [0.022ms - 7.329ms]
closefile2           367682ops     1226ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.212ms]
fsyncfile2           367682ops     1226ops/s   0.0mb/s    0.052ms/op [0.022ms - 9.776ms]
appendfilerand2      367682ops     1226ops/s   9.6mb/s    0.126ms/op [0.088ms - 12.742ms]
createfile2          367683ops     1226ops/s   0.0mb/s    0.107ms/op [0.076ms - 11.976ms]
deletefile1          367683ops     1226ops/s   0.0mb/s    0.131ms/op [0.092ms - 12.619ms]
301.451: IO Summary: 4779868 ops 15931.867 ops/s 2451/2451 rd/wr  47.9mb/s 0.060ms/op
301.451: Shutting down processes

# Run 2

301.426: Run took 300 seconds...
301.426: Per-Operation Breakdown
closefile4           388199ops     1294ops/s   0.0mb/s    0.003ms/op [0.001ms - 3.093ms]
readfile4            388199ops     1294ops/s  20.2mb/s    0.096ms/op [0.045ms - 12.598ms]
openfile4            388199ops     1294ops/s   0.0mb/s    0.032ms/op [0.023ms - 11.248ms]
closefile3           388200ops     1294ops/s   0.0mb/s    0.003ms/op [0.001ms - 3.335ms]
fsyncfile3           388200ops     1294ops/s   0.0mb/s    0.046ms/op [0.029ms - 7.363ms]
appendfilerand3      388200ops     1294ops/s  10.1mb/s    0.055ms/op [0.039ms - 10.181ms]
readfile3            388200ops     1294ops/s  10.1mb/s    0.075ms/op [0.014ms - 10.182ms]
openfile3            388200ops     1294ops/s   0.0mb/s    0.031ms/op [0.023ms - 4.907ms]
closefile2           388200ops     1294ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.375ms]
fsyncfile2           388200ops     1294ops/s   0.0mb/s    0.049ms/op [0.020ms - 10.194ms]
appendfilerand2      388200ops     1294ops/s  10.1mb/s    0.119ms/op [0.087ms - 10.885ms]
createfile2          388200ops     1294ops/s   0.0mb/s    0.101ms/op [0.076ms - 12.572ms]
deletefile1          388200ops     1294ops/s   0.0mb/s    0.123ms/op [0.092ms - 11.701ms]
301.426: IO Summary: 5046597 ops 16820.772 ops/s 2588/2588 rd/wr  50.6mb/s 0.057ms/op
301.426: Shutting down processes

# Run 3

301.437: Run took 300 seconds...
301.438: Per-Operation Breakdown
closefile4           378564ops     1262ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.143ms]
readfile4            378564ops     1262ops/s  19.7mb/s    0.097ms/op [0.042ms - 12.762ms]
openfile4            378564ops     1262ops/s   0.0mb/s    0.032ms/op [0.023ms - 10.231ms]
closefile3           378564ops     1262ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.841ms]
fsyncfile3           378564ops     1262ops/s   0.0mb/s    0.047ms/op [0.028ms - 7.398ms]
appendfilerand3      378564ops     1262ops/s   9.9mb/s    0.057ms/op [0.042ms - 10.999ms]
readfile3            378564ops     1262ops/s   9.9mb/s    0.077ms/op [0.015ms - 13.935ms]
openfile3            378564ops     1262ops/s   0.0mb/s    0.032ms/op [0.023ms - 9.550ms]
closefile2           378564ops     1262ops/s   0.0mb/s    0.004ms/op [0.002ms - 3.284ms]
fsyncfile2           378564ops     1262ops/s   0.0mb/s    0.051ms/op [0.021ms - 11.482ms]
appendfilerand2      378564ops     1262ops/s   9.9mb/s    0.121ms/op [0.088ms - 12.297ms]
createfile2          378564ops     1262ops/s   0.0mb/s    0.104ms/op [0.076ms - 9.252ms]
deletefile1          378564ops     1262ops/s   0.0mb/s    0.127ms/op [0.092ms - 11.707ms]
301.440: IO Summary: 4921332 ops 16403.363 ops/s 2524/2524 rd/wr  49.4mb/s 0.058ms/op
301.440: Shutting down processes