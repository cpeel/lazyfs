# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/passthrough/fb-workload -f varmail.f.f
#   filebench -f varmail.f.f
#
# Description:
#
#   1. Clear all files from FS
#   2. Run filebench varmail.f.f
#   3. Get results

# Run 1


# Run 2


# Run 3


# passthrough run number 1

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Varmail Version 3.0 personality successfully loaded
0.001: Populating and pre-allocating filesets
0.002: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 14.959MB total size
0.002: Removing bigfileset tree (if exists)
0.003: Pre-allocating directories in bigfileset tree
0.004: Pre-allocating files in bigfileset tree
0.083: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
0.083: Population and pre-allocation of filesets completed
0.083: Starting 1 filereader instances
1.086: Running...
301.105: Run took 300 seconds...
301.105: Per-Operation Breakdown
closefile4           870480ops     2901ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.138ms]
readfile4            870480ops     2901ops/s  45.3mb/s    0.047ms/op [0.013ms - 2.078ms]
openfile4            870480ops     2901ops/s   0.0mb/s    0.022ms/op [0.011ms - 0.245ms]
closefile3           870480ops     2901ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.166ms]
fsyncfile3           870480ops     2901ops/s   0.0mb/s    0.010ms/op [0.005ms - 3.123ms]
appendfilerand3      870481ops     2901ops/s  22.7mb/s    0.026ms/op [0.012ms - 1.984ms]
readfile3            870481ops     2901ops/s  22.7mb/s    0.036ms/op [0.012ms - 2.000ms]
openfile3            870481ops     2901ops/s   0.0mb/s    0.021ms/op [0.011ms - 0.379ms]
closefile2           870481ops     2901ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.146ms]
fsyncfile2           870481ops     2901ops/s   0.0mb/s    0.010ms/op [0.005ms - 0.452ms]
appendfilerand2      870481ops     2901ops/s  22.7mb/s    0.029ms/op [0.001ms - 2.036ms]
createfile2          870481ops     2901ops/s   0.0mb/s    0.058ms/op [0.033ms - 5.877ms]
deletefile1          870481ops     2901ops/s   0.0mb/s    0.040ms/op [0.023ms - 2.795ms]
301.105: IO Summary: 11316248 ops 37718.500 ops/s 5803/5803 rd/wr 113.3mb/s 0.024ms/op
301.105: Shutting down processes

# passthrough run number 2

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Varmail Version 3.0 personality successfully loaded
0.001: Populating and pre-allocating filesets
0.002: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 14.959MB total size
0.002: Removing bigfileset tree (if exists)
0.003: Pre-allocating directories in bigfileset tree
0.004: Pre-allocating files in bigfileset tree
0.083: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
0.083: Population and pre-allocation of filesets completed
0.083: Starting 1 filereader instances
1.086: Running...
301.104: Run took 300 seconds...
301.104: Per-Operation Breakdown
closefile4           869351ops     2898ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.165ms]
readfile4            869351ops     2898ops/s  45.3mb/s    0.047ms/op [0.013ms - 4.273ms]
openfile4            869351ops     2898ops/s   0.0mb/s    0.022ms/op [0.012ms - 3.847ms]
closefile3           869351ops     2898ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.148ms]
fsyncfile3           869351ops     2898ops/s   0.0mb/s    0.010ms/op [0.005ms - 2.176ms]
appendfilerand3      869351ops     2898ops/s  22.6mb/s    0.026ms/op [0.011ms - 4.253ms]
readfile3            869351ops     2898ops/s  22.6mb/s    0.036ms/op [0.013ms - 3.287ms]
openfile3            869351ops     2898ops/s   0.0mb/s    0.021ms/op [0.012ms - 3.274ms]
closefile2           869351ops     2898ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.174ms]
fsyncfile2           869351ops     2898ops/s   0.0mb/s    0.010ms/op [0.005ms - 8.263ms]
appendfilerand2      869351ops     2898ops/s  22.6mb/s    0.029ms/op [0.013ms - 7.910ms]
createfile2          869351ops     2898ops/s   0.0mb/s    0.058ms/op [0.034ms - 5.223ms]
deletefile1          869352ops     2898ops/s   0.0mb/s    0.040ms/op [0.022ms - 4.141ms]
301.105: IO Summary: 11301564 ops 37669.557 ops/s 5795/5795 rd/wr 113.2mb/s 0.024ms/op
301.105: Shutting down processes

# passthrough run number 3

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Varmail Version 3.0 personality successfully loaded
0.001: Populating and pre-allocating filesets
0.002: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 14.959MB total size
0.002: Removing bigfileset tree (if exists)
0.003: Pre-allocating directories in bigfileset tree
0.003: Pre-allocating files in bigfileset tree
0.081: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
0.081: Population and pre-allocation of filesets completed
0.081: Starting 1 filereader instances
1.084: Running...
301.103: Run took 300 seconds...
301.103: Per-Operation Breakdown
closefile4           875208ops     2917ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.182ms]
readfile4            875208ops     2917ops/s  45.6mb/s    0.046ms/op [0.015ms - 6.379ms]
openfile4            875208ops     2917ops/s   0.0mb/s    0.022ms/op [0.013ms - 10.261ms]
closefile3           875208ops     2917ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.170ms]
fsyncfile3           875208ops     2917ops/s   0.0mb/s    0.010ms/op [0.006ms - 4.718ms]
appendfilerand3      875208ops     2917ops/s  22.8mb/s    0.026ms/op [0.012ms - 4.344ms]
readfile3            875208ops     2917ops/s  22.8mb/s    0.036ms/op [0.014ms - 4.259ms]
openfile3            875208ops     2917ops/s   0.0mb/s    0.021ms/op [0.012ms - 1.173ms]
closefile2           875208ops     2917ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.243ms]
fsyncfile2           875208ops     2917ops/s   0.0mb/s    0.010ms/op [0.006ms - 1.626ms]
appendfilerand2      875208ops     2917ops/s  22.8mb/s    0.029ms/op [0.017ms - 2.990ms]
createfile2          875208ops     2917ops/s   0.0mb/s    0.058ms/op [0.036ms - 11.614ms]
deletefile1          875209ops     2917ops/s   0.0mb/s    0.040ms/op [0.023ms - 4.574ms]
301.103: IO Summary: 11377705 ops 37923.362 ops/s 5834/5834 rd/wr 114.0mb/s 0.024ms/op
301.103: Shutting down processes
