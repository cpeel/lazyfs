# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/lazyfs/fb-workload -f filemicro_seqwrite.f.f
#   filebench -f filemicro_seqwrite.f.f
#
# Description:
#
#   (Using standard page size in cache - 4kb / 4096 bytes)
# 
#   1. Clear all files from FS
#   2. Run filebench filemicro_seqwrite.f.f
#   3. Get results

# Run 1


# Run 2


# Run 3


# lazyfs run number 1

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Populating and pre-allocating filesets
0.001: fileset-1 populated: 1 files, avg. dir. width = 1, avg. dir. depth = -nan, 0 leafdirs, 1024.000MB total size
0.001: Removing fileset-1 tree (if exists)
0.003: Pre-allocating directories in fileset-1 tree
0.003: Pre-allocating files in fileset-1 tree
0.003: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
0.003: Population and pre-allocation of filesets completed
0.003: Attempting to create fileset more than once, ignoring
0.003: Starting 1 process-1 instances
1.005: Running...
301.024: Run took 300 seconds...
301.026: Per-Operation Breakdown
finish-1             0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
close-1              0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
write-1              9693332ops    32309ops/s 126.2mb/s    0.029ms/op [0.011ms - 104.993ms]
create-1             1ops        0ops/s   0.0mb/s    1.728ms/op [1.728ms - 1.728ms]
301.026: IO Summary: 9693333 ops 32308.873 ops/s 0/32309 rd/wr 126.2mb/s 0.029ms/op
301.026: Shutting down processes

# lazyfs run number 2

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.005: Populating and pre-allocating filesets
0.005: fileset-1 populated: 1 files, avg. dir. width = 1, avg. dir. depth = -nan, 0 leafdirs, 1024.000MB total size
0.005: Removing fileset-1 tree (if exists)
0.006: Pre-allocating directories in fileset-1 tree
0.006: Pre-allocating files in fileset-1 tree
0.006: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
0.006: Population and pre-allocation of filesets completed
0.006: Attempting to create fileset more than once, ignoring
0.007: Starting 1 process-1 instances
1.009: Running...
301.027: Run took 300 seconds...
301.028: Per-Operation Breakdown
finish-1             0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
close-1              0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
write-1              9681211ops    32269ops/s 126.0mb/s    0.029ms/op [0.011ms - 113.875ms]
create-1             1ops        0ops/s   0.0mb/s    2.035ms/op [2.035ms - 2.035ms]
301.028: IO Summary: 9681212 ops 32268.701 ops/s 0/32269 rd/wr 126.0mb/s 0.029ms/op
301.028: Shutting down processes

# lazyfs run number 3

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.005: Populating and pre-allocating filesets
0.005: fileset-1 populated: 1 files, avg. dir. width = 1, avg. dir. depth = -nan, 0 leafdirs, 1024.000MB total size
0.005: Removing fileset-1 tree (if exists)
0.006: Pre-allocating directories in fileset-1 tree
0.007: Pre-allocating files in fileset-1 tree
0.007: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
0.007: Population and pre-allocation of filesets completed
0.007: Attempting to create fileset more than once, ignoring
0.007: Starting 1 process-1 instances
1.008: Running...
301.028: Run took 300 seconds...
301.030: Per-Operation Breakdown
finish-1             0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
close-1              0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
write-1              9492367ops    31639ops/s 123.6mb/s    0.030ms/op [0.011ms - 170.703ms]
create-1             1ops        0ops/s   0.0mb/s    2.169ms/op [2.169ms - 2.169ms]
301.030: IO Summary: 9492368 ops 31638.985 ops/s 0/31639 rd/wr 123.6mb/s 0.030ms/op
301.030: Shutting down processes
