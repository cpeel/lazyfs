# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/passthrough/fb-workload -f fileserver.f.f
#   filebench -f fileserver.f.f
#
# Description:
#
#   1. Clear all files from FS
#   2. Run filebench fileserver.f.f
#   3. Get results

# Run 1


# Run 2


# Run 3


# passthrough run number 1

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.007: File-server Version 3.0 personality successfully loaded
0.007: Populating and pre-allocating filesets
0.013: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1240.757MB total size
0.013: Removing bigfileset tree (if exists)
0.015: Pre-allocating directories in bigfileset tree
0.060: Pre-allocating files in bigfileset tree
2.537: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
2.537: Population and pre-allocation of filesets completed
2.538: Starting 1 filereader instances
3.540: Running...
303.559: Run took 300 seconds...
303.560: Per-Operation Breakdown
statfile1            262406ops      875ops/s   0.0mb/s    0.021ms/op [0.011ms - 1.015ms]
deletefile1          262406ops      875ops/s   0.0mb/s    0.079ms/op [0.027ms - 82.154ms]
closefile3           262406ops      875ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.118ms]
readfile1            262406ops      875ops/s 111.7mb/s    0.131ms/op [0.014ms - 6.222ms]
openfile2            262406ops      875ops/s   0.0mb/s    0.052ms/op [0.022ms - 2.960ms]
closefile2           262406ops      875ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.114ms]
appendfilerand1      262406ops      875ops/s   6.9mb/s    0.046ms/op [0.014ms - 8.987ms]
openfile1            262406ops      875ops/s   0.0mb/s    0.045ms/op [0.023ms - 2.984ms]
closefile1           262406ops      875ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.091ms]
wrtfile1             262406ops      875ops/s 109.7mb/s    0.639ms/op [0.014ms - 8.519ms]
createfile1          262407ops      875ops/s   0.0mb/s    0.076ms/op [0.039ms - 46.021ms]
303.560: IO Summary: 2886467 ops 9620.953 ops/s 875/1749 rd/wr 228.2mb/s 0.100ms/op
303.560: Shutting down processes

# passthrough run number 2

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: File-server Version 3.0 personality successfully loaded
0.001: Populating and pre-allocating filesets
0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1240.757MB total size
0.007: Removing bigfileset tree (if exists)
0.008: Pre-allocating directories in bigfileset tree
0.046: Pre-allocating files in bigfileset tree
2.536: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
2.536: Population and pre-allocation of filesets completed
2.536: Starting 1 filereader instances
3.540: Running...
303.560: Run took 300 seconds...
303.560: Per-Operation Breakdown
statfile1            260866ops      869ops/s   0.0mb/s    0.021ms/op [0.011ms - 0.314ms]
deletefile1          260866ops      869ops/s   0.0mb/s    0.079ms/op [0.027ms - 35.615ms]
closefile3           260866ops      869ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.109ms]
readfile1            260866ops      869ops/s 111.0mb/s    0.131ms/op [0.013ms - 6.943ms]
openfile2            260866ops      869ops/s   0.0mb/s    0.052ms/op [0.023ms - 1.391ms]
closefile2           260866ops      869ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.113ms]
appendfilerand1      260866ops      869ops/s   6.8mb/s    0.047ms/op [0.016ms - 23.922ms]
openfile1            260866ops      869ops/s   0.0mb/s    0.046ms/op [0.024ms - 5.742ms]
closefile1           260866ops      869ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.133ms]
wrtfile1             260866ops      869ops/s 109.0mb/s    0.643ms/op [0.016ms - 7.740ms]
createfile1          260867ops      870ops/s   0.0mb/s    0.076ms/op [0.041ms - 37.558ms]
303.560: IO Summary: 2869527 ops 9564.488 ops/s 869/1739 rd/wr 226.9mb/s 0.101ms/op
303.560: Shutting down processes

# passthrough run number 3

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: File-server Version 3.0 personality successfully loaded
0.001: Populating and pre-allocating filesets
0.007: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1240.757MB total size
0.007: Removing bigfileset tree (if exists)
0.008: Pre-allocating directories in bigfileset tree
0.037: Pre-allocating files in bigfileset tree
2.104: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
2.104: Population and pre-allocation of filesets completed
2.104: Starting 1 filereader instances
3.107: Running...
303.126: Run took 300 seconds...
303.126: Per-Operation Breakdown
statfile1            261553ops      872ops/s   0.0mb/s    0.021ms/op [0.010ms - 1.827ms]
deletefile1          261553ops      872ops/s   0.0mb/s    0.079ms/op [0.027ms - 58.444ms]
closefile3           261553ops      872ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.113ms]
readfile1            261553ops      872ops/s 111.3mb/s    0.132ms/op [0.015ms - 4.203ms]
openfile2            261553ops      872ops/s   0.0mb/s    0.052ms/op [0.022ms - 0.709ms]
closefile2           261553ops      872ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.142ms]
appendfilerand1      261553ops      872ops/s   6.8mb/s    0.047ms/op [0.018ms - 27.319ms]
openfile1            261553ops      872ops/s   0.0mb/s    0.046ms/op [0.024ms - 3.292ms]
closefile1           261553ops      872ops/s   0.0mb/s    0.004ms/op [0.002ms - 0.168ms]
wrtfile1             261553ops      872ops/s 109.3mb/s    0.641ms/op [0.016ms - 9.103ms]
createfile1          261554ops      872ops/s   0.0mb/s    0.076ms/op [0.039ms - 23.663ms]
303.126: IO Summary: 2877084 ops 9589.678 ops/s 872/1744 rd/wr 227.5mb/s 0.100ms/op
303.126: Shutting down processes
