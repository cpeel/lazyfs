# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/lazyfs/fb-workload -f filemicro_rwrite.f.f
#   filebench -f filemicro_rwrite.f.f
#
# Description:
#
#   (Using standard page size in cache - 4kb / 4096 bytes)
# 
#   1. Clear all files from FS
#   2. Run filebench filemicro_rwrite.f.f
#   3. Get results

# Run 1


# Run 2


# Run 3


# lazyfs run number 1

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.005: Populating and pre-allocating filesets
0.005: fileset-1 populated: 1 files, avg. dir. width = 1, avg. dir. depth = -nan, 0 leafdirs, 1024.000MB total size
0.005: Removing fileset-1 tree (if exists)
0.006: Pre-allocating directories in fileset-1 tree
0.006: Pre-allocating files in fileset-1 tree
7.435: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
7.435: Population and pre-allocation of filesets completed
7.435: Attempting to create fileset more than once, ignoring
7.435: Starting 1 process-1 instances
8.437: Running...
308.457: Run took 300 seconds...
308.457: Per-Operation Breakdown
finish-1             0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
close-1              0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
write-1              7993662ops    26644ops/s 104.1mb/s    0.036ms/op [0.025ms - 2.165ms]
open-1               1ops        0ops/s   0.0mb/s   69.341ms/op [69.341ms - 69.341ms]
308.457: IO Summary: 7993663 ops 26643.840 ops/s 0/26644 rd/wr 104.1mb/s 0.036ms/op
308.457: Shutting down processes

# lazyfs run number 2

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Populating and pre-allocating filesets
0.001: fileset-1 populated: 1 files, avg. dir. width = 1, avg. dir. depth = -nan, 0 leafdirs, 1024.000MB total size
0.001: Removing fileset-1 tree (if exists)
0.003: Pre-allocating directories in fileset-1 tree
0.003: Pre-allocating files in fileset-1 tree
5.871: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
5.871: Population and pre-allocation of filesets completed
5.871: Attempting to create fileset more than once, ignoring
5.871: Starting 1 process-1 instances
6.884: Running...
306.904: Run took 300 seconds...
306.904: Per-Operation Breakdown
finish-1             0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
close-1              0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
write-1              8011673ops    26704ops/s 104.3mb/s    0.036ms/op [0.025ms - 2.904ms]
open-1               1ops        0ops/s   0.0mb/s   72.910ms/op [72.910ms - 72.910ms]
306.904: IO Summary: 8011674 ops 26703.862 ops/s 0/26704 rd/wr 104.3mb/s 0.036ms/op
306.904: Shutting down processes

# lazyfs run number 3

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Populating and pre-allocating filesets
0.001: fileset-1 populated: 1 files, avg. dir. width = 1, avg. dir. depth = -nan, 0 leafdirs, 1024.000MB total size
0.001: Removing fileset-1 tree (if exists)
0.003: Pre-allocating directories in fileset-1 tree
0.003: Pre-allocating files in fileset-1 tree
6.186: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
6.186: Population and pre-allocation of filesets completed
6.186: Attempting to create fileset more than once, ignoring
6.187: Starting 1 process-1 instances
7.188: Running...
307.207: Run took 300 seconds...
307.208: Per-Operation Breakdown
finish-1             0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
close-1              0ops        0ops/s   0.0mb/s    0.000ms/op [0.000ms - 0.000ms]
write-1              8301523ops    27670ops/s 108.1mb/s    0.035ms/op [0.025ms - 10.047ms]
open-1               1ops        0ops/s   0.0mb/s   68.507ms/op [68.507ms - 68.507ms]
307.208: IO Summary: 8301524 ops 27669.991 ops/s 0/27670 rd/wr 108.1mb/s 0.035ms/op
307.208: Shutting down processes
