# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/lazyfs/fb-workload -f randomwrite.f
#   filebench -f randomwrite.f
#
# Description:
#
#   (Using page size in cache of size 65kb / 65536 bytes)
# 
#   1. Clear all files from FS
#   2. Run filebench randomwrite.f
#   3. Get results

# Run 1

0.003: Pre-allocating files in largefile1 tree
1.737: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.738: Population and pre-allocation of filesets completed
1.738: Starting 1 rand-write instances
2.760: Running...
62.764: Run took 60 seconds...
62.764: Per-Operation Breakdown
rand-write1          1087007ops    18116ops/s 141.5mb/s    0.054ms/op [0.036ms - 110.919ms]
62.764: IO Summary: 1087007 ops 18115.617 ops/s 0/18116 rd/wr 141.5mb/s 0.054ms/op
62.764: Shutting down processes

# Run 2

0.003: Pre-allocating files in largefile1 tree
1.732: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.732: Population and pre-allocation of filesets completed
1.732: Starting 1 rand-write instances
2.763: Running...
62.766: Run took 60 seconds...
62.767: Per-Operation Breakdown
rand-write1          1073361ops    17888ops/s 139.8mb/s    0.054ms/op [0.038ms - 110.645ms]
62.767: IO Summary: 1073361 ops 17888.233 ops/s 0/17888 rd/wr 139.8mb/s 0.054ms/op
62.767: Shutting down processes

# Run 3

0.003: Pre-allocating files in largefile1 tree
1.743: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.743: Population and pre-allocation of filesets completed
1.743: Starting 1 rand-write instances
2.777: Running...
62.781: Run took 60 seconds...
62.781: Per-Operation Breakdown
rand-write1          1054826ops    17579ops/s 137.3mb/s    0.055ms/op [0.041ms - 114.468ms]
62.781: IO Summary: 1054826 ops 17579.320 ops/s 0/17579 rd/wr 137.3mb/s 0.055ms/op
62.781: Shutting down processes
