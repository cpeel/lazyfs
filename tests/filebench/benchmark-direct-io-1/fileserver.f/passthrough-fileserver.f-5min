# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/passthrough/fb-workload -f fileserver.f.f
#   filebench -f fileserver.f.f
#
# Description:
#
#   1. Clear all files from FS
#   2. Run filebench fileserver.f.f
#   3. Get results

# Run 1


# Run 2


# Run 3


# passthrough run number 1

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.005: File-server Version 3.0 personality successfully loaded
0.016: time sync
time sync 1651170034.859797350
0.028: time sync
0.028: Populating and pre-allocating filesets
0.039: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1240.757MB total size
0.039: Removing bigfileset tree (if exists)
0.042: Pre-allocating directories in bigfileset tree
0.093: Pre-allocating files in bigfileset tree
1.712: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.712: Population and pre-allocation of filesets completed
1.712: Starting 1 filereader instances
2.726: Running...
302.745: Run took 300 seconds...
302.746: Per-Operation Breakdown
statfile1            223908ops      746ops/s   0.0mb/s    0.019ms/op [0.010ms - 8.049ms]
deletefile1          223908ops      746ops/s   0.0mb/s    0.063ms/op [0.022ms - 42.953ms]
closefile3           223908ops      746ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.103ms]
readfile1            223908ops      746ops/s  95.3mb/s    0.457ms/op [0.017ms - 10.756ms]
openfile2            223909ops      746ops/s   0.0mb/s    0.037ms/op [0.017ms - 6.290ms]
closefile2           223909ops      746ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.096ms]
appendfilerand1      223909ops      746ops/s   5.8mb/s    0.029ms/op [0.010ms - 13.884ms]
openfile1            223909ops      746ops/s   0.0mb/s    0.039ms/op [0.017ms - 8.484ms]
closefile1           223909ops      746ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.092ms]
wrtfile1             223909ops      746ops/s  93.6mb/s    0.573ms/op [0.013ms - 11.052ms]
createfile1          223909ops      746ops/s   0.0mb/s    0.071ms/op [0.035ms - 57.224ms]
302.746: IO Summary: 2462995 ops 8209.467 ops/s 746/1493 rd/wr 194.7mb/s 0.118ms/op
302.746: Shutting down processes

# passthrough run number 2

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: File-server Version 3.0 personality successfully loaded
0.015: time sync
time sync 1651170354.200483433
0.025: time sync
0.025: Populating and pre-allocating filesets
0.035: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1240.757MB total size
0.035: Removing bigfileset tree (if exists)
0.038: Pre-allocating directories in bigfileset tree
0.085: Pre-allocating files in bigfileset tree
1.917: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.917: Population and pre-allocation of filesets completed
1.917: Starting 1 filereader instances
2.933: Running...
302.952: Run took 300 seconds...
302.952: Per-Operation Breakdown
statfile1            221023ops      737ops/s   0.0mb/s    0.020ms/op [0.010ms - 4.380ms]
deletefile1          221023ops      737ops/s   0.0mb/s    0.063ms/op [0.022ms - 58.661ms]
closefile3           221023ops      737ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.068ms]
readfile1            221023ops      737ops/s  94.1mb/s    0.465ms/op [0.017ms - 9.895ms]
openfile2            221023ops      737ops/s   0.0mb/s    0.037ms/op [0.013ms - 6.155ms]
closefile2           221023ops      737ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.061ms]
appendfilerand1      221023ops      737ops/s   5.8mb/s    0.029ms/op [0.013ms - 7.393ms]
openfile1            221023ops      737ops/s   0.0mb/s    0.039ms/op [0.015ms - 9.608ms]
closefile1           221023ops      737ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.071ms]
wrtfile1             221023ops      737ops/s  92.4mb/s    0.580ms/op [0.013ms - 11.785ms]
createfile1          221024ops      737ops/s   0.0mb/s    0.072ms/op [0.036ms - 13.203ms]
302.952: IO Summary: 2431254 ops 8103.666 ops/s 737/1473 rd/wr 192.2mb/s 0.120ms/op
302.952: Shutting down processes

# passthrough run number 3

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: File-server Version 3.0 personality successfully loaded
0.016: time sync
time sync 1651170673.752462787
0.027: time sync
0.027: Populating and pre-allocating filesets
0.038: bigfileset populated: 10000 files, avg. dir. width = 20, avg. dir. depth = 3.1, 0 leafdirs, 1240.757MB total size
0.038: Removing bigfileset tree (if exists)
0.041: Pre-allocating directories in bigfileset tree
0.078: Pre-allocating files in bigfileset tree
1.593: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
1.593: Population and pre-allocation of filesets completed
1.593: Starting 1 filereader instances
2.611: Running...
302.630: Run took 300 seconds...
302.630: Per-Operation Breakdown
statfile1            219872ops      733ops/s   0.0mb/s    0.020ms/op [0.010ms - 6.248ms]
deletefile1          219872ops      733ops/s   0.0mb/s    0.064ms/op [0.022ms - 52.375ms]
closefile3           219873ops      733ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.129ms]
readfile1            219873ops      733ops/s  93.6mb/s    0.466ms/op [0.017ms - 10.667ms]
openfile2            219873ops      733ops/s   0.0mb/s    0.037ms/op [0.015ms - 8.630ms]
closefile2           219873ops      733ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.100ms]
appendfilerand1      219873ops      733ops/s   5.7mb/s    0.029ms/op [0.011ms - 48.997ms]
openfile1            219873ops      733ops/s   0.0mb/s    0.039ms/op [0.014ms - 5.586ms]
closefile1           219873ops      733ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.110ms]
wrtfile1             219873ops      733ops/s  91.9mb/s    0.583ms/op [0.013ms - 10.820ms]
createfile1          219873ops      733ops/s   0.0mb/s    0.073ms/op [0.036ms - 19.913ms]
302.630: IO Summary: 2418601 ops 8061.499 ops/s 733/1466 rd/wr 191.2mb/s 0.120ms/op
302.630: Shutting down processes
