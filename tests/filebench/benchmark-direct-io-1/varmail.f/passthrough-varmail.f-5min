# Test: 
#
# Commands:
#
#   ./setup-testbed.sh -d /tmp/passthrough/fb-workload -f varmail.f.f
#   filebench -f varmail.f.f
#
# Description:
#
#   1. Clear all files from FS
#   2. Run filebench varmail.f.f
#   3. Get results

# Run 1


# Run 2


# Run 3


# passthrough run number 1

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Varmail Version 3.0 personality successfully loaded
0.015: time sync
time sync 1651171013.061084151
0.026: time sync
0.026: Populating and pre-allocating filesets
0.029: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 14.959MB total size
0.029: Removing bigfileset tree (if exists)
0.031: Pre-allocating directories in bigfileset tree
0.032: Pre-allocating files in bigfileset tree
0.107: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
0.107: Population and pre-allocation of filesets completed
0.107: Starting 1 filereader instances
1.115: Running...
301.134: Run took 300 seconds...
301.134: Per-Operation Breakdown
closefile4           711086ops     2370ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.075ms]
readfile4            711086ops     2370ops/s  37.0mb/s    0.078ms/op [0.016ms - 7.101ms]
openfile4            711086ops     2370ops/s   0.0mb/s    0.020ms/op [0.010ms - 7.958ms]
closefile3           711086ops     2370ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.130ms]
fsyncfile3           711086ops     2370ops/s   0.0mb/s    0.011ms/op [0.005ms - 7.227ms]
appendfilerand3      711086ops     2370ops/s  18.5mb/s    0.039ms/op [0.019ms - 8.786ms]
readfile3            711086ops     2370ops/s  18.5mb/s    0.052ms/op [0.014ms - 8.943ms]
openfile3            711086ops     2370ops/s   0.0mb/s    0.021ms/op [0.010ms - 8.774ms]
closefile2           711086ops     2370ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.088ms]
fsyncfile2           711086ops     2370ops/s   0.0mb/s    0.011ms/op [0.005ms - 3.381ms]
appendfilerand2      711086ops     2370ops/s  18.5mb/s    0.030ms/op [0.015ms - 3.920ms]
createfile2          711087ops     2370ops/s   0.0mb/s    0.067ms/op [0.034ms - 9.380ms]
deletefile1          711087ops     2370ops/s   0.0mb/s    0.042ms/op [0.021ms - 9.093ms]
301.134: IO Summary: 9244120 ops 30811.799 ops/s 4740/4740 rd/wr  92.6mb/s 0.029ms/op
301.135: Shutting down processes

# passthrough run number 2

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Varmail Version 3.0 personality successfully loaded
0.012: time sync
time sync 1651171330.316455843
0.023: time sync
0.023: Populating and pre-allocating filesets
0.025: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 14.959MB total size
0.025: Removing bigfileset tree (if exists)
0.027: Pre-allocating directories in bigfileset tree
0.028: Pre-allocating files in bigfileset tree
0.103: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
0.103: Population and pre-allocation of filesets completed
0.103: Starting 1 filereader instances
1.114: Running...
301.136: Run took 300 seconds...
301.137: Per-Operation Breakdown
closefile4           721597ops     2405ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.113ms]
readfile4            721597ops     2405ops/s  37.6mb/s    0.077ms/op [0.017ms - 9.123ms]
openfile4            721597ops     2405ops/s   0.0mb/s    0.020ms/op [0.010ms - 6.928ms]
closefile3           721597ops     2405ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.255ms]
fsyncfile3           721597ops     2405ops/s   0.0mb/s    0.010ms/op [0.005ms - 3.874ms]
appendfilerand3      721597ops     2405ops/s  18.8mb/s    0.039ms/op [0.020ms - 7.029ms]
readfile3            721597ops     2405ops/s  18.8mb/s    0.051ms/op [0.016ms - 7.995ms]
openfile3            721598ops     2405ops/s   0.0mb/s    0.020ms/op [0.010ms - 8.659ms]
closefile2           721598ops     2405ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.095ms]
fsyncfile2           721598ops     2405ops/s   0.0mb/s    0.011ms/op [0.006ms - 6.582ms]
appendfilerand2      721598ops     2405ops/s  18.8mb/s    0.030ms/op [0.016ms - 6.270ms]
createfile2          721598ops     2405ops/s   0.0mb/s    0.066ms/op [0.034ms - 8.695ms]
deletefile1          721598ops     2405ops/s   0.0mb/s    0.041ms/op [0.020ms - 7.717ms]
301.137: IO Summary: 9380767 ops 31266.907 ops/s 4810/4810 rd/wr  94.0mb/s 0.029ms/op
301.137: Shutting down processes

# passthrough run number 3

Filebench Version 1.5-alpha3
0.000: Allocated 177MB of shared memory
0.001: Varmail Version 3.0 personality successfully loaded
0.011: time sync
time sync 1651171647.565757425
0.023: time sync
0.023: Populating and pre-allocating filesets
0.025: bigfileset populated: 1000 files, avg. dir. width = 1000000, avg. dir. depth = 0.5, 0 leafdirs, 14.959MB total size
0.025: Removing bigfileset tree (if exists)
0.027: Pre-allocating directories in bigfileset tree
0.028: Pre-allocating files in bigfileset tree
0.108: Waiting for pre-allocation to finish (in case of a parallel pre-allocation)
0.108: Population and pre-allocation of filesets completed
0.109: Starting 1 filereader instances
1.120: Running...
301.139: Run took 300 seconds...
301.139: Per-Operation Breakdown
closefile4           709474ops     2365ops/s   0.0mb/s    0.003ms/op [0.001ms - 4.868ms]
readfile4            709474ops     2365ops/s  37.0mb/s    0.078ms/op [0.017ms - 8.734ms]
openfile4            709474ops     2365ops/s   0.0mb/s    0.020ms/op [0.010ms - 8.774ms]
closefile3           709474ops     2365ops/s   0.0mb/s    0.003ms/op [0.001ms - 0.150ms]
fsyncfile3           709474ops     2365ops/s   0.0mb/s    0.011ms/op [0.005ms - 3.996ms]
appendfilerand3      709474ops     2365ops/s  18.5mb/s    0.039ms/op [0.021ms - 8.059ms]
readfile3            709475ops     2365ops/s  18.5mb/s    0.052ms/op [0.014ms - 9.094ms]
openfile3            709475ops     2365ops/s   0.0mb/s    0.021ms/op [0.010ms - 4.802ms]
closefile2           709475ops     2365ops/s   0.0mb/s    0.004ms/op [0.001ms - 0.087ms]
fsyncfile2           709475ops     2365ops/s   0.0mb/s    0.011ms/op [0.006ms - 7.333ms]
appendfilerand2      709475ops     2365ops/s  18.5mb/s    0.030ms/op [0.015ms - 5.075ms]
createfile2          709475ops     2365ops/s   0.0mb/s    0.067ms/op [0.034ms - 9.951ms]
deletefile1          709475ops     2365ops/s   0.0mb/s    0.042ms/op [0.021ms - 8.727ms]
301.139: IO Summary: 9223169 ops 30741.985 ops/s 4730/4730 rd/wr  92.4mb/s 0.029ms/op
301.139: Shutting down processes
